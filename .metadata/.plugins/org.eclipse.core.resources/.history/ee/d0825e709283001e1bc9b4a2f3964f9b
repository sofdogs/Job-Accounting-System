<%@ page language="java" contentType="text/html; charset=UTF-8"
 	pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Query Result</title>
</head>
	<body>
	 <%@page import="jsp_azure_test.DataHandler"%>
	 <%@page import="java.sql.ResultSet"%>
	 <%@page import="java.sql.Array"%>
	 <%
	 DataHandler handler = new DataHandler();
	 
	 // Get the attribute values passed from the input form.
	 String lower_category = request.getParameter("lcategory");
	 String upper_category = request.getParameter("ucategory");

	 /*
	  * If the user hasn't filled out all the time, movie name and duration. This is very simple checking.
	  */
	  if (lower_category == null || upper_category == null ||  lower_category.equals("") || upper_category.equals("")) {
	  		response.sendRedirect("add_query12_form.jsp");
	  } else {
	  		int upper_category_int = Integer.parseInt(upper_category);
	  		int lower_category_int  = Integer.parseInt(lower_category);
	  		
	  		ResultSet rs = handler.retrieveCustomer(lower_category_int,upper_category_int);
	  		
			
			 <table cellspacing="2" cellpadding="2" border="1">
					<tr> <!-- The table headers row -->
						<td align="center">
							<h4>Customer Name</h4>
						</td>
						<td align="center">
							<h4>Address</h4>
						</td>
						<td align="center">
							<h4>Category</h4>
						</td>
					</tr>
				<%
					 while(customers.next()) { // For each movie_night record returned...
					 // Extract the attribute values for every row returned
						 final String Name = customers.getString("cname");
						 final String Address = customers.getString("address");
						 final int Category = customers.getInt("category");
				
						 out.println("<tr>"); // Start printing out the new table row
						 out.println( // Print each attribute value
							 "<td align=\"center\">" + Name +
							 "</td><td align=\"center\"> " + Address +
							 "</td><td align=\"center\"> " + Category  + "</td>");
						 out.println("</tr>");
					}
				%>
				</table>
	  		
 		}		
 	
	</body>
</html>